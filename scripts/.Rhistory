ggsave(filename = "../paper/images/test.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/fem_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
fem_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Depth",
"Egg Dev. (Uneyed)", "Temperature", "Carapace Width",
"Egg Percent", "Black Mat", "Egg Dev. (Barren)",
"Egg Dev. (Dead Eggs)", "Egg Dev. (Juvenile)", "Shell Cond. (Cubic)",
"Shell Cond. (Quadratic)", "Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank()) +
theme(plot.title = element_text(hjust = 0.5))
coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Depth",
"Egg Dev. (Uneyed)", "Temperature", "Carapace Width",
"Egg Percent", "Black Mat", "Egg Dev. (Barren)",
"Egg Dev. (Dead Eggs)", "Egg Dev. (Juvenile)", "Shell Cond. (Cubic)",
"Shell Cond. (Quadratic)", "Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank()) +
theme(plot.title = element_text(hjust = 0.5))
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/all_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
gen_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Temperature",
"Depth", "Carapace Width", "Sex",
"Shell Cond. (Cubic)", "Black Mat", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank()) +
theme(plot.title = element_text(hjust = 0.5))
# Save plot
ggsave(filename = "../paper/images/Fig2_full_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/fem_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
fem_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Depth",
"Egg Dev. (Uneyed)", "Temperature", "Carapace Width",
"Egg Percent", "Black Mat", "Egg Dev. (Barren)",
"Egg Dev. (Dead Eggs)", "Egg Dev. (Juvenile)", "Shell Cond. (Cubic)",
"Shell Cond. (Quadratic)", "Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank()) +
theme(plot.title = element_text(hjust = 0.5))
# Save plot
ggsave(filename = "../paper/images/Fig3_female_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/male_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
male_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Black Mat", "Temperature",
"Depth", "Leg Condition", "Carapace Width",
"Shell Cond. (Cubic)", "Maturity", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank()) +
theme(plot.title = element_text(hjust = 0.5))
# Save plot
ggsave(filename = "../paper/images/Fig4_male_model_coefficients.png")
ggarrange(gen_mod + rremove("xlab"),
fem_mod + rremove("xlab"),
male_mod,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
align = "h")
# Save plot
ggsave(filename = "../paper/images/test.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/all_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
gen_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Temperature",
"Depth", "Carapace Width", "Sex",
"Shell Cond. (Cubic)", "Black Mat", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_line(color = "black",
size = 0.5,
linetype = 2)) +
theme(plot.title = element_text(hjust = 0.5))
# Save plot
ggsave(filename = "../paper/images/Fig2_full_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/all_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
gen_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Temperature",
"Depth", "Carapace Width", "Sex",
"Shell Cond. (Cubic)", "Black Mat", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_line(color = "grey",
linewidth = 0.5,
linetype = 2)) +
theme(plot.title = element_text(hjust = 0.5))
# Save plot
ggsave(filename = "../paper/images/Fig2_gen_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/all_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
gen_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Temperature",
"Depth", "Carapace Width", "Sex",
"Shell Cond. (Cubic)", "Black Mat", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_line(color = "grey",
linewidth = 0.2,
linetype = 2)) +
theme(plot.title = element_text(hjust = 0.5))
# Save plot
ggsave(filename = "../paper/images/Fig2_gen_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/all_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
gen_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Temperature",
"Depth", "Carapace Width", "Sex",
"Shell Cond. (Cubic)", "Black Mat", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_line(color = "grey",
linewidth = 0.2,
linetype = 2))
# Save plot
ggsave(filename = "../paper/images/Fig2_gen_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/fem_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
fem_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Leg Condition", "Depth",
"Egg Dev. (Uneyed)", "Temperature", "Carapace Width",
"Egg Percent", "Black Mat", "Egg Dev. (Barren)",
"Egg Dev. (Dead Eggs)", "Egg Dev. (Juvenile)", "Shell Cond. (Cubic)",
"Shell Cond. (Quadratic)", "Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_line(color = "grey",
linewidth = 0.2,
linetype = 2))
# Save plot
ggsave(filename = "../paper/images/Fig3_female_model_coefficients.png")
# Set model filepath
model_filepath <- "../output/ADFG_SE_AK_pot_surveys/models/weighted_models/male_crabs/"
# Read in average model
avg_model <- readRDS(file = paste0(model_filepath, "avg_model.rds"))
# Get basic plot
plot(avg_model)
# Create table of coefficients
coef_tab <- summary(avg_model)$coefmat.full
coef_tab <- as.data.frame(coef_tab)
# Turn rownames into column
coef_tab <- rownames_to_column(coef_tab, var = "variable")
# Remove column header whitespace
colnames(coef_tab) <- str_remove_all(colnames(coef_tab), " ")
# Edit variable column to remove unneeded elements
coef_tab$variable <- coef_tab$variable %>%
str_replace("^cond\\(", "")
coef_tab$variable <- coef_tab$variable %>%
str_replace("s.", "")
# Remove int row
coef_tab <- coef_tab[coef_tab$variable != "(Int))", ]
# Arrange by magnitude of estimated coefficient
coef_tab <- coef_tab %>%
arrange(desc(abs(Estimate)))
# Create graph. Start with basic image and sorting
male_mod <- coef_tab %>%
ggplot(aes(x = Estimate, y = reorder(variable, abs(Estimate), decreasing = FALSE))) +
geom_point() +
geom_errorbar(aes(xmin = Estimate - AdjustedSE,
xmax = Estimate + AdjustedSE),
width = 0.3) +
geom_vline(xintercept=0, linetype = "dotted") +
#mess with labels and axes
scale_y_discrete(labels = c("Latitude", "Black Mat", "Temperature",
"Depth", "Leg Condition", "Carapace Width",
"Shell Cond. (Cubic)", "Maturity", "Shell Cond. (Quadratic)",
"Shell Cond. (Linear)")) +
scale_x_continuous(limits = c(-5, 1.7)) +
ylab("Predictor Variable") +
xlab ("Estimated Coefficient") +
# mess with theme and appearance
theme_bw() +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_line(color = "grey",
linewidth = 0.2,
linetype = 2))
# Save plot
ggsave(filename = "../paper/images/Fig4_male_model_coefficients.png")
ggarrange(gen_mod + rremove("xlab"),
fem_mod + rremove("xlab"),
male_mod,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
align = "h")
# Save plot
ggsave(filename = "../paper/images/test.png")
